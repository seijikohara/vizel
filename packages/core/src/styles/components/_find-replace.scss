/**
 * Find & Replace Styles
 *
 * Highlight styles for search matches and panel UI.
 */

@use "../tokens" as *;

// Search match highlights â€” these use dedicated CSS custom properties
// so users can customize match colors independently of the theme.
.vizel-find-match {
  background-color: var(--vizel-find-match-bg, oklch(0.85 0.15 85 / 0.4));
  border-radius: v("radius-sm");
}

.vizel-find-current {
  background-color: var(--vizel-find-current-bg, oklch(0.75 0.18 60 / 0.6));
  border-radius: v("radius-sm");
  outline: 2px solid var(--vizel-find-current-outline, oklch(0.7 0.2 50 / 0.8));
  outline-offset: -1px;
}

// Find & Replace panel
.vizel-find-replace-panel {
  display: flex;
  flex-direction: column;
  gap: v("spacing-2");
  padding: v("spacing-3");
  background-color: v("background");
  border: 1px solid v("border");
  border-radius: v("radius-lg");
  box-shadow: v("shadow-md");
  min-width: 320px;
}

.vizel-find-replace-row {
  display: flex;
  align-items: center;
  gap: v("spacing-2");
}

.vizel-find-replace-input {
  flex: 1;
  padding: v("spacing-2") v("spacing-3");
  font-size: v("font-size-sm");
  border: 1px solid v("border");
  border-radius: v("radius-sm");
  background-color: v("background-secondary");
  color: v("foreground");
  outline: none;
  transition: border-color v("transition-normal") ease;

  &:focus {
    border-color: v("primary");
    box-shadow: 0 0 0 2px v("primary-bg");
  }

  &::placeholder {
    color: v("muted-foreground");
  }
}

.vizel-find-replace-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: v("spacing-2");
  min-width: 32px;
  height: 32px;
  font-size: v("font-size-sm");
  border: 1px solid v("border");
  border-radius: v("radius-sm");
  background-color: v("background-tertiary");
  color: v("foreground");
  cursor: pointer;
  transition:
    background-color v("transition-normal") ease,
    border-color v("transition-normal") ease;

  &:hover:not(:disabled) {
    background-color: v("hover-bg");
    border-color: v("border-hover");
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.vizel-find-replace-button--primary {
  background-color: v("primary");
  border-color: v("primary");
  color: v("primary-foreground");

  &:hover:not(:disabled) {
    background-color: v("primary-hover");
    border-color: v("primary-hover");
  }
}

.vizel-find-replace-count {
  font-size: v("font-size-xs");
  color: v("muted-foreground");
  white-space: nowrap;
  min-width: 60px;
  text-align: center;
}

.vizel-find-replace-options {
  display: flex;
  align-items: center;
  gap: v("spacing-3");
  font-size: v("font-size-xs");
  color: v("foreground-secondary");
}

.vizel-find-replace-checkbox {
  display: flex;
  align-items: center;
  gap: v("spacing-1");
  cursor: pointer;

  input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
    accent-color: v("primary");
  }
}

.vizel-find-replace-close {
  position: absolute;
  top: v("spacing-2");
  right: v("spacing-2");
  padding: v("spacing-1");
  background: none;
  border: none;
  cursor: pointer;
  color: v("muted-foreground");
  border-radius: v("radius-sm");
  transition: background-color v("transition-normal") ease;

  &:hover {
    background-color: v("hover-bg");
  }
}
